{% extends 'base.html' %}

{% block content %}
<h1>Очередь комментариев</h1>
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Автор</th>
      <th>Пост</th>
      <th>Создан</th>
      <th>Текст</th>
    </tr>
  </thead>
  <tbody>
  {% for c in comments %}
    <tr>
      <td>{{ c.id }}</td>
      <td>{{ c.author.username }}</td>
      <td><a href="{{ c.post.get_absolute_url }}">{{ c.post.title }}</a></td>
      <td>{{ c.created_at }}</td>
      <td>{{ c.body|safe }}</td>
      <td>
        <form method="post" action="{% url 'moderation_comment_unhide' pk=c.id %}">{% csrf_token %}
          <input type="hidden" name="reason" value="">
          <button type="submit">Показать</button>
        </form>
        <form method="post" action="{% url 'moderation_comment_hide' pk=c.id %}">{% csrf_token %}
          <input type="hidden" name="reason" value="">
          <button type="submit">Скрыть</button>
        </form>
      </td>
    </tr>
  {% empty %}
    <tr><td colspan="5">Нет комментариев.</td></tr>
  {% endfor %}
  </tbody>
{% endblock %}


